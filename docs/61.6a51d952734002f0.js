"use strict";(self.webpackChunkplant=self.webpackChunkplant||[]).push([[61],{4061:(re,b,l)=>{l.r(b),l.d(b,{AuthModule:()=>oe});var m=l(4755),u=l(9915),o=l(9401),T=l(1306),e=l(2504),c=l(2542),h=l(9744),A=l(2417),d=l(9200),f=l(1813);function v(t,r){1&t&&(e.TgZ(0,"span",18),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"general.required"),""))}function q(t,r){if(1&t&&(e.TgZ(0,"span",18),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.hij(" ",n.errorMessage,"")}}function F(t,r){1&t&&(e.TgZ(0,"span",18),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"general.required")))}let I=(()=>{class t{constructor(n,s,a){this.authService=n,this.router=s,this._fB=a,this.isLoading=!1,this.submitted=!1,this.authService.loggedIn()&&this.router.navigate(["/"])}ngOnInit(){this.loginForm=this._fB.group({Email:new o.NI("",o.kI.required),Password:new o.NI("",o.kI.required)})}login(){this.submitted=!0,this.isLoading=!0,this.loginForm.valid&&(this.submitted=!1,this.authService.login(this.loginForm.value).subscribe(n=>{n.isSuccess?(localStorage.setItem("userData",JSON.stringify(n.data)),n.data.isEmailConfirm?(localStorage.setItem("token",n.data.token),this.authService.storeUserModel(n.data),localStorage.setItem("userType",JSON.stringify(n.data.userType)),n.data.userType===T.A.farmer||n.data.userType==T.A.regularUser?localStorage.setItem("userTypeForNavBar","4"):localStorage.setItem("userTypeForNavBar",JSON.stringify(n.data.userType)),this.authService.redirectionType(n.data.userType)):this.router.navigate(["/auth/confirm"]),this.isLoading=!1):(this.isLoading=!1,this.errorMessage=n?.message)},n=>{this.isLoading=!1}))}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(c.e),e.Y36(u.F0),e.Y36(o.qu))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-login"]],decls:32,vars:27,consts:[[1,"mt-[20px]"],[1,"container"],[1,"flex","md:justify-between","xxs:justify-center","items-center"],[1,"login-form","p-6","md:w-[70%]","xxs:w-full","rounded"],[1,"mb-2","text-xl","font-semibold"],[1,"text-sm"],[1,"text-sm","ml-2","text-green-600","font-medium",3,"routerLink"],[1,"flex","justify-start","flex-col","w-full","mt-6",3,"formGroup"],[1,"mb-3"],["formControlName","Email","type","email","pInputText","",1,"w-full","mb-1","placeholder:text-sm",3,"placeholder"],["class","text-xs text-[#e54f4f] ps-[14px]",4,"ngIf"],["autocomplete","current-password","formControlName","Password",1,"w-full","placeholder:text-sm",3,"feedback","toggleMask"],[1,"flex","justify-end","items-end","mt-0"],[1,"text-green-600","font-medium",3,"routerLink"],[1,"my-4"],[3,"text","isLoading","click"],[1,"image","w-full","md:block","xxs:hidden","ml-6"],["src","../../../../assets/images/login.jpg",1,"w-full"],[1,"text-xs","text-[#e54f4f]","ps-[14px]"]],template:function(n,s){if(1&n&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"span",5),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"a",6),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"form",7)(14,"div",8),e._UZ(15,"input",9),e.ALo(16,"translate"),e.YNc(17,v,3,3,"span",10),e.YNc(18,q,2,1,"span",10),e.qZA(),e.TgZ(19,"div",8),e._UZ(20,"p-password",11),e.YNc(21,F,3,3,"span",10),e.qZA(),e.TgZ(22,"div",12)(23,"small")(24,"a",13),e._uU(25),e.ALo(26,"translate"),e.qZA()()(),e.TgZ(27,"div",14)(28,"app-button",15),e.NdJ("click",function(){return s.login()}),e.ALo(29,"translate"),e.qZA()()()(),e.TgZ(30,"div",16),e._UZ(31,"img",17),e.qZA()()()()),2&n){let a,i;e.xp6(5),e.Oqu(e.lcZ(6,15,"auth.login")),e.xp6(3),e.Oqu(e.lcZ(9,17,"auth.noAccount")),e.xp6(2),e.Q6J("routerLink","/auth/signup"),e.xp6(1),e.Oqu(e.lcZ(12,19,"auth.signup")),e.xp6(2),e.Q6J("formGroup",s.loginForm),e.xp6(2),e.s9C("placeholder",e.lcZ(16,21,"auth.email")),e.xp6(2),e.Q6J("ngIf",(null==(a=s.loginForm.get("email"))?null:a.hasError("required"))&&((null==(a=s.loginForm.get("email"))?null:a.touched)||s.submitted)),e.xp6(1),e.Q6J("ngIf",s.errorMessage),e.xp6(2),e.Q6J("feedback",!1)("toggleMask",!0),e.xp6(1),e.Q6J("ngIf",(null==(i=s.loginForm.get("password"))?null:i.hasError("required"))&&((null==(i=s.loginForm.get("password"))?null:i.touched)||s.submitted)),e.xp6(3),e.Q6J("routerLink","/auth/reset-password"),e.xp6(1),e.Oqu(e.lcZ(26,23,"auth.forget")),e.xp6(3),e.s9C("text",e.lcZ(29,25,"auth.login")),e.Q6J("isLoading",s.isLoading)}},dependencies:[m.O5,u.rH,h.o,A.ro,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,d.r,f.X$],styles:[".login-form[_ngcontent-%COMP%]{box-shadow:#00000029 0 10px 36px,#0000000f 0 0 0 1px}"]}),t})();var p=(()=>((p=p||{}).passwordPattern="^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{10,}$",p.emailPattern="[A-Za-z0-9._%-]+@[A-Za-z0-9._%-]+\\.[a-z]{2,3}",p.numberPattern="^[0-9.]{8,18}$",p))();function y(t,r){1&t&&e._UZ(0,"i",25)}function L(t,r){if(1&t&&e._UZ(0,"img",26),2&t){const n=e.oxw();e.Q6J("src",n.plantImage,e.LSH)}}function J(t,r){1&t&&(e.TgZ(0,"span",27),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"general.required"),""))}function N(t,r){1&t&&(e.TgZ(0,"span",27),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"general.required"),""))}function S(t,r){1&t&&(e.TgZ(0,"span",27),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"general.required"),""))}function U(t,r){1&t&&(e.TgZ(0,"span",27),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"general.pattern"),""))}function k(t,r){1&t&&(e.TgZ(0,"span",27),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"general.required"),""))}function j(t,r){1&t&&(e.TgZ(0,"span",27),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"general.pattern"),""))}function P(t,r){1&t&&(e.TgZ(0,"span",27),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"general.required"),""))}function Y(t,r){1&t&&(e.TgZ(0,"span",27),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"general.pattern"),""))}let M=(()=>{class t{constructor(n,s,a){this.router=n,this.fb=s,this.authService=a,this.submitted=!1,this.loading=!1,this.hasImage=!1,this.isExist=!1,this.plantImage=""}ngOnInit(){this.signupFormInitialization()}signup(){if(this.submitted=!0,this.loading=!0,this.signupForm.valid){const n=this.signupForm.value;this.submitted=!1;const s=new FormData;s.append("FullName",n?.name),s.append("Password",n?.password),s.append("UserType","2"),s.append("Email",n?.email),s.append("PhoneNumber",n?.phone),s.append("UserName",n?.userName),s.append("ImageFile",this.userImage),this.authService.signUp(s).subscribe(a=>{a.isSuccess?(localStorage.setItem("email",n?.email),this.router.navigate(["/auth/confirm"]),this.loading=!1):this.loading=!1},a=>{console.error("An error occurred:",a),this.loading=!1})}}selectPhoto(n){this.hasImage=!0;const s=n.target.files[0];this.userImage=s;var a=new FileReader;a.onload=i=>{this.plantImage=i.target.result},a.readAsDataURL(s)}signupFormInitialization(){this.signupForm=new o.cw({email:new o.NI("",[o.kI.required,o.kI.pattern(p.emailPattern)]),password:new o.NI("",[o.kI.required,o.kI.pattern(p.passwordPattern)]),name:new o.NI("ff",o.kI.required),phone:new o.NI("",[o.kI.required,o.kI.pattern(p.numberPattern)]),userName:new o.NI("",o.kI.required),userImage:new o.NI("")})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(u.F0),e.Y36(o.qu),e.Y36(c.e))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-signup"]],decls:47,vars:39,consts:[[1,"mt-[20px]"],[1,"container"],[1,"flex","md:justify-between","xxs:justify-center","items-center"],[1,"image","w-full","mr-6","md:block","xxs:hidden"],["src","../../../../assets/images/login.jpg",1,"w-full"],[1,"login-form","p-4","md:w-[70%]","xxs:w-full","rounded"],[1,"mb-2","text-xl","font-semibold"],[1,"text-sm"],[1,"text-sm","ml-2","text-green-600","font-medium",3,"routerLink"],[1,"flex","justify-start","flex-col","w-full","mt-4",3,"formGroup"],[1,"flex","justify-center","items-center","mb-2"],["for","file-input",1,"cursor-pointer"],[1,"bg-zinc-200","w-[120px]","h-[120px]","rounded-full","flex","justify-center","items-center"],["class","fa-solid fa-camera","style","color: #afb1b6; font-size: 25px;",4,"ngIf"],["class","w-full h-full  rounded-full object-cover",3,"src",4,"ngIf"],["accept","image/png, image/jpg, image/jpeg","type","file","id","file-input",1,"hidden","mr-3",3,"change"],[1,"mb-2","h-[60px]"],["type","text","pInputText","","formControlName","name",1,"w-full","placeholder:text-sm","text-sm",3,"placeholder"],["class","text-xs text-[#e54f4f] ps-[14px]",4,"ngIf"],["type","text","pInputText","","formControlName","userName",1,"w-full","placeholder:text-sm","text-sm",3,"placeholder"],["type","email","pInputText","","formControlName","email",1,"w-fullplaceholder:text-sm","text-sm",3,"placeholder"],["type","text","pInputText","","formControlName","phone",1,"w-full","placeholder:text-sm","text-sm",3,"placeholder"],["formControlName","password",1,"w-full","placeholder:text-sm","text-sm","py-2",3,"feedback","toggleMask"],[1,"my-4"],[3,"text","isLoading","clickButton"],[1,"fa-solid","fa-camera",2,"color","#afb1b6","font-size","25px"],[1,"w-full","h-full","rounded-full","object-cover",3,"src"],[1,"text-xs","text-[#e54f4f]","ps-[14px]"]],template:function(n,s){if(1&n&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),e._UZ(4,"img",4),e.qZA(),e.TgZ(5,"div",5)(6,"h1",6),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"span",7),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"a",8),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"form",9)(16,"div",10)(17,"label",11)(18,"div",12),e.YNc(19,y,1,0,"i",13),e.YNc(20,L,1,1,"img",14),e.qZA(),e.TgZ(21,"input",15),e.NdJ("change",function(i){return s.selectPhoto(i)}),e.qZA()()(),e.TgZ(22,"div",16),e._UZ(23,"input",17),e.ALo(24,"translate"),e.YNc(25,J,3,3,"span",18),e.qZA(),e.TgZ(26,"div",16),e._UZ(27,"input",19),e.ALo(28,"translate"),e.YNc(29,N,3,3,"span",18),e.qZA(),e.TgZ(30,"div",16),e._UZ(31,"input",20),e.ALo(32,"translate"),e.YNc(33,S,3,3,"span",18),e.YNc(34,U,3,3,"span",18),e.qZA(),e.TgZ(35,"div",16),e._UZ(36,"input",21),e.ALo(37,"translate"),e.YNc(38,k,3,3,"span",18),e.YNc(39,j,3,3,"span",18),e.qZA(),e.TgZ(40,"div",16),e._UZ(41,"p-password",22),e.YNc(42,P,3,3,"span",18),e.YNc(43,Y,3,3,"span",18),e.qZA(),e.TgZ(44,"div",23)(45,"app-button",24),e.NdJ("clickButton",function(){return s.signup()}),e.ALo(46,"translate"),e.qZA()()()()()()()),2&n){let a,i,g,x,Z,_,w,C;e.xp6(7),e.Oqu(e.lcZ(8,23,"auth.signup")),e.xp6(3),e.Oqu(e.lcZ(11,25,"auth.haveAccount")),e.xp6(2),e.Q6J("routerLink","/auth"),e.xp6(1),e.Oqu(e.lcZ(14,27,"auth.login")),e.xp6(2),e.Q6J("formGroup",s.signupForm),e.xp6(4),e.Q6J("ngIf",!s.hasImage),e.xp6(1),e.Q6J("ngIf",s.hasImage),e.xp6(3),e.s9C("placeholder",e.lcZ(24,29,"auth.name")),e.xp6(2),e.Q6J("ngIf",(null==(a=s.signupForm.get("name"))?null:a.hasError("required"))&&((null==(a=s.signupForm.get("name"))?null:a.touched)||s.submitted)),e.xp6(2),e.s9C("placeholder",e.lcZ(28,31,"auth.userName")),e.xp6(2),e.Q6J("ngIf",(null==(i=s.signupForm.get("userName"))?null:i.hasError("required"))&&((null==(i=s.signupForm.get("userName"))?null:i.touched)||s.submitted)),e.xp6(2),e.s9C("placeholder",e.lcZ(32,33,"auth.email")),e.xp6(2),e.Q6J("ngIf",(null==(g=s.signupForm.get("email"))?null:g.hasError("required"))&&((null==(g=s.signupForm.get("email"))?null:g.touched)||s.submitted)),e.xp6(1),e.Q6J("ngIf",(null==(x=s.signupForm.get("email"))?null:x.hasError("pattern"))&&((null==(x=s.signupForm.get("email"))?null:x.touched)||s.submitted)),e.xp6(2),e.s9C("placeholder",e.lcZ(37,35,"auth.phoneNo")),e.xp6(2),e.Q6J("ngIf",(null==(Z=s.signupForm.get("phone"))?null:Z.hasError("required"))&&((null==(Z=s.signupForm.get("phone"))?null:Z.touched)||s.submitted)),e.xp6(1),e.Q6J("ngIf",(null==(_=s.signupForm.get("phone"))?null:_.hasError("pattern"))&&((null==(_=s.signupForm.get("phone"))?null:_.touched)||s.submitted)),e.xp6(2),e.Q6J("feedback",!1)("toggleMask",!0),e.xp6(1),e.Q6J("ngIf",(null==(w=s.signupForm.get("password"))?null:w.hasError("required"))&&((null==(w=s.signupForm.get("password"))?null:w.touched)||s.submitted)),e.xp6(1),e.Q6J("ngIf",(null==(C=s.signupForm.get("password"))?null:C.hasError("pattern"))&&((null==(C=s.signupForm.get("password"))?null:C.touched)||s.submitted)),e.xp6(2),e.s9C("text",e.lcZ(46,37,"auth.signup")),e.Q6J("isLoading",s.loading)}},dependencies:[m.O5,u.rH,h.o,A.ro,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,d.r,f.X$],styles:[".login-form[_ngcontent-%COMP%]{box-shadow:#00000029 0 10px 36px,#0000000f 0 0 0 1px}"]}),t})();var Q=l(3284);function O(t,r){if(1&t&&(e.TgZ(0,"span",10),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Oqu(n.errorMessage)}}function R(t,r){1&t&&(e.TgZ(0,"span",10),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"general.required"),""))}function X(t,r){1&t&&(e.TgZ(0,"span",10),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"general.pattern"),""))}function z(t,r){if(1&t&&(e.TgZ(0,"span",10),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.hij(" ",n.errorMessage,"")}}function $(t,r){1&t&&(e.TgZ(0,"span",11),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"general.required"),""))}function D(t,r){if(1&t&&(e.TgZ(0,"span",11),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.hij(" ",n.errorMessage,"")}}function V(t){const r=t.get("password"),n=t.get("confirmationPassword");return r&&n&&r.value!=n.value?{misMatch:!0}:null}function K(t,r){1&t&&(e.TgZ(0,"span",11),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"general.required"),""))}function W(t,r){1&t&&(e.TgZ(0,"span",11),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"general.pattern"),""))}function ee(t,r){1&t&&(e.TgZ(0,"span",11),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"general.confirm"),""))}const te=[{path:"",component:I},{path:"signup",component:M},{path:"confirm",component:(()=>{class t{constructor(n,s){this.authService=n,this.router=s}ngOnInit(){const n=localStorage.getItem("userData");if(n){const s=JSON.parse(n);this.email=s?.email}}confirmEmail(){this.authService.confirmEmail({confirmationCode:this.code,email:this.email}).subscribe(n=>{n.isSuccess?this.router.navigate(["auth"]):this.errorMessage=n.message})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(c.e),e.Y36(u.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-signup-confirmation"]],decls:15,vars:12,consts:[[1,"container","flex","justify-center","items-center","flex-col","h-screen"],[1,"confirm-container","py-7","px-9","w-[50%]","flex","justify-center","flex-col","gap-4","bg-[#d3d3d33d]"],[1,"flex","flex-col","justify-center","items-center"],[1,"font-bold","text-center","text-2xl","mb-4"],[1,"text-center","text-base"],[1,"flex","justify-center","items-center","flex-col"],["mode","decimal","inputId","withoutgrouping",3,"ngModel","useGrouping","ngModelChange"],["class","text-xs text-[#e54f4f] mt-2",4,"ngIf"],[1,"flex","justify-center","items-center"],[3,"text","clickButton"],[1,"text-xs","text-[#e54f4f]","mt-2"]],template:function(n,s){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"h2",4),e._uU(7),e.ALo(8,"translate"),e.qZA()(),e.TgZ(9,"div",5)(10,"p-inputNumber",6),e.NdJ("ngModelChange",function(i){return s.code=i}),e.qZA(),e.YNc(11,O,2,1,"span",7),e.qZA(),e.TgZ(12,"div",8)(13,"app-button",9),e.NdJ("clickButton",function(){return s.confirmEmail()}),e.ALo(14,"translate"),e.qZA()()()()),2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,6,"auth.verify")),e.xp6(3),e.hij(" ",e.lcZ(8,8,"auth.verifyTitle"),""),e.xp6(3),e.Q6J("ngModel",s.code)("useGrouping",!1),e.xp6(1),e.Q6J("ngIf",s.errorMessage),e.xp6(2),e.s9C("text",e.lcZ(14,10,"community.submit")))},dependencies:[m.O5,Q.Rn,o.JJ,o.On,d.r,f.X$],styles:[".confirm-container[_ngcontent-%COMP%]{box-shadow:#00000029 0 10px 36px,#0000000f 0 0 0 1px}"]}),t})()},{path:"",component:(()=>{class t{constructor(n,s){this._fB=n,this.authService=s,this.submitted=!1,this.errorMessage=""}ngOnInit(){this.resetForm=this._fB.group({email:["",[o.kI.required,o.kI.pattern(p.emailPattern)]]}),this.resetForm.get("email")?.valueChanges.subscribe(n=>{this.errorMessage=""})}submitForm(){this.submitted=!0,this.resetForm.valid&&(this.submitted=!1,this.authService.sendEmailForConfirm(this.resetForm.value).subscribe(n=>{n.isSuccess||(this.errorMessage=n.message)}))}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(o.qu),e.Y36(c.e))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-reset-password"]],decls:7,vars:0,consts:[[1,"container"],[1,"flex","md:justify-between","xxs:justify-center","items-center","h-screen"],[1,"image","md:block","xxs:hidden","ml-6","w-[50%]"],["src","../../../../assets/images/login.jpg",1,"w-full"]],template:function(n,s){1&n&&(e.TgZ(0,"section")(1,"div",0)(2,"div",1)(3,"div"),e._UZ(4,"router-outlet"),e.qZA(),e.TgZ(5,"div",2),e._UZ(6,"img",3),e.qZA()()()())},dependencies:[u.lC],styles:[".login-form[_ngcontent-%COMP%]{box-shadow:#00000029 0 10px 36px,#0000000f 0 0 0 1px}"]}),t})(),children:[{path:"reset-password",component:(()=>{class t{constructor(n,s,a){this._fB=n,this.authService=s,this.router=a,this.submitted=!1,this.errorMessage="",this.loading=!1}ngOnInit(){this.resetForm=this._fB.group({email:["",[o.kI.required,o.kI.pattern(p.emailPattern)]]}),this.resetForm.get("email")?.valueChanges.subscribe(n=>{this.errorMessage=""})}submitForm(){this.submitted=!0,this.loading=!0,this.resetForm.valid&&(this.submitted=!1,this.authService.sendEmailForConfirm(this.resetForm.value).subscribe(n=>{n.isSuccess?(localStorage.setItem("email",this.resetForm.get("email")?.value),this.router.navigate(["auth/confirm-code"])):this.errorMessage=n.message})),this.loading=!1}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(o.qu),e.Y36(c.e),e.Y36(u.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-confirm-email"]],decls:18,vars:17,consts:[[1,"login-form","p-6","w-full","rounded"],[1,"my-5"],[1,"my-1"],[1,"text-xs"],[1,"flex","justify-start","flex-col","w-full","mt-6",3,"formGroup"],[1,"mb-3","h-[60px]"],["formControlName","email","type","email","pInputText","",1,"w-full","mb-1","placeholder:text-sm",3,"placeholder"],["class","text-xs text-[#e54f4f] ps-[14px]",4,"ngIf"],[1,"my-4"],[3,"text","isLoading","click"],[1,"text-xs","text-[#e54f4f]","ps-[14px]"]],template:function(n,s){if(1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"span",3),e._uU(6),e.ALo(7,"translate"),e.qZA()(),e.TgZ(8,"form",4)(9,"div",5),e._UZ(10,"input",6),e.ALo(11,"translate"),e.YNc(12,R,3,3,"span",7),e.YNc(13,X,3,3,"span",7),e.YNc(14,z,2,1,"span",7),e.qZA(),e.TgZ(15,"div",8)(16,"app-button",9),e.NdJ("click",function(){return s.submitForm()}),e.ALo(17,"translate"),e.qZA()()()()),2&n){let a,i;e.xp6(3),e.Oqu(e.lcZ(4,9,"resetPassword.reset")),e.xp6(3),e.Oqu(e.lcZ(7,11,"resetPassword.submitEmail")),e.xp6(2),e.Q6J("formGroup",s.resetForm),e.xp6(2),e.s9C("placeholder",e.lcZ(11,13,"auth.email")),e.xp6(2),e.Q6J("ngIf",(null==(a=s.resetForm.get("email"))?null:a.hasError("required"))&&((null==(a=s.resetForm.get("email"))?null:a.touched)||s.submitted)),e.xp6(1),e.Q6J("ngIf",(null==(i=s.resetForm.get("email"))?null:i.hasError("pattern"))&&((null==(i=s.resetForm.get("email"))?null:i.touched)||s.submitted)),e.xp6(1),e.Q6J("ngIf",s.errorMessage),e.xp6(2),e.s9C("text",e.lcZ(17,15,"community.submit")),e.Q6J("isLoading",s.loading)}},dependencies:[m.O5,h.o,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,d.r,f.X$]}),t})()},{path:"confirm-code",component:(()=>{class t{constructor(n,s,a){this._fB=n,this.authService=s,this.router=a,this.submitted=!1,this.loading=!1}ngOnInit(){this.codeForm=this._fB.group({code:["",o.kI.required]}),localStorage.getItem("email")&&(this.emailUser=localStorage.getItem("email")),this.codeForm.get("code")?.valueChanges.subscribe(n=>{this.errorMessage=""})}submitCode(){this.submitted=!0,this.loading=!0,this.codeForm.valid&&(this.submitted=!1,this.authService.submitConfirmationCode({email:this.emailUser,code:+this.codeForm.get("code")?.value}).subscribe(n=>{n.isSuccess?this.router.navigate(["auth/reset-password-form"]):this.errorMessage=n?.message})),this.loading=!1}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(o.qu),e.Y36(c.e),e.Y36(u.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-confirm-code"]],decls:20,vars:19,consts:[[1,"login-form","p-6","w-full","rounded"],[1,"my-5"],[1,"my-1"],[1,"text-xs"],[1,"text-xs","mt-1"],[1,"flex","justify-start","flex-col","w-full","mt-6",3,"formGroup"],[1,"mb-3","h-[60px]"],["type","text","pInputText","","formControlName","code",1,"w-full","placeholder:text-sm","text-sm",3,"placeholder"],["class","text-xs text-[#e54f4f] ps-[14px]",4,"ngIf"],[1,"my-4"],[3,"text","isLoading","click"],[1,"text-xs","text-[#e54f4f]","ps-[14px]"]],template:function(n,s){if(1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p",3),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"p",4),e._uU(9),e.ALo(10,"translate"),e.qZA()(),e.TgZ(11,"form",5)(12,"div",6),e._UZ(13,"input",7),e.ALo(14,"translate"),e.YNc(15,$,3,3,"span",8),e.YNc(16,D,2,1,"span",8),e.qZA(),e.TgZ(17,"div",9)(18,"app-button",10),e.NdJ("click",function(){return s.submitCode()}),e.ALo(19,"translate"),e.qZA()()()()),2&n){let a;e.xp6(3),e.Oqu(e.lcZ(4,9,"resetPassword.reset")),e.xp6(3),e.Oqu(e.lcZ(7,11,"resetPassword.sendEmail")),e.xp6(3),e.Oqu(e.lcZ(10,13,"resetPassword.codeVerification")),e.xp6(2),e.Q6J("formGroup",s.codeForm),e.xp6(2),e.s9C("placeholder",e.lcZ(14,15,"auth.code")),e.xp6(2),e.Q6J("ngIf",(null==(a=s.codeForm.get("code"))?null:a.hasError("required"))&&((null==(a=s.codeForm.get("code"))?null:a.touched)||s.submitted)),e.xp6(1),e.Q6J("ngIf",s.errorMessage),e.xp6(2),e.s9C("text",e.lcZ(19,17,"community.submit")),e.Q6J("isLoading",s.loading)}},dependencies:[m.O5,h.o,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,d.r,f.X$]}),t})()},{path:"reset-password-form",component:(()=>{class t{constructor(n,s,a){this.router=n,this.authService=s,this._fB=a,this.submitted=!1,this.loading=!1}ngOnInit(){this.passwordForm=this._fB.group({password:["",[o.kI.required,o.kI.pattern(p.passwordPattern)]],confirmationPassword:[""]},{validator:[V]});const n=localStorage.getItem("userData");n&&(this.email=JSON.parse(n).email)}resetPassword(){this.submitted=!0,this.loading=!0;const n=this.passwordForm.value;this.passwordForm.valid&&this.authService.resetPassword({email:this.email,newPassword:n.password,confirmNewPassword:n.confirmationPassword}).subscribe(s=>{s.isSuccess&&this.router.navigate(["auth"])}),this.loading=!1}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(u.F0),e.Y36(c.e),e.Y36(o.qu))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-reset-password-form"]],decls:19,vars:18,consts:[[1,"login-form","p-6","w-full","rounded"],[1,"my-5"],[1,"my-1"],[1,"text-xs"],[1,"flex","justify-start","flex-col","w-full","mt-6",3,"formGroup"],[1,"mb-2","h-[60px]"],["formControlName","password","placeholder","password",1,"w-full","placeholder:text-sm","text-sm","py-2",3,"feedback","toggleMask"],["class","text-xs text-[#e54f4f] ps-[14px]",4,"ngIf"],["formControlName","confirmationPassword","placeholder","password confirmation",1,"w-full","placeholder:text-sm","text-sm","py-2",3,"feedback","toggleMask"],[1,"my-4"],[3,"text","isLoading","clickButton"],[1,"text-xs","text-[#e54f4f]","ps-[14px]"]],template:function(n,s){if(1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p",3),e._uU(6),e.ALo(7,"translate"),e.qZA()(),e.TgZ(8,"form",4)(9,"div",5),e._UZ(10,"p-password",6),e.YNc(11,K,3,3,"span",7),e.YNc(12,W,3,3,"span",7),e.qZA(),e.TgZ(13,"div",5),e._UZ(14,"p-password",8),e.YNc(15,ee,3,3,"span",7),e.qZA(),e.TgZ(16,"div",9)(17,"app-button",10),e.NdJ("clickButton",function(){return s.resetPassword()}),e.ALo(18,"translate"),e.qZA()()()()),2&n){let a,i,g;e.xp6(3),e.Oqu(e.lcZ(4,12,"resetPassword.reset")),e.xp6(3),e.Oqu(e.lcZ(7,14,"resetPassword.submitCode")),e.xp6(2),e.Q6J("formGroup",s.passwordForm),e.xp6(2),e.Q6J("feedback",!1)("toggleMask",!0),e.xp6(1),e.Q6J("ngIf",(null==(a=s.passwordForm.get("password"))?null:a.hasError("required"))&&((null==(a=s.passwordForm.get("password"))?null:a.touched)||s.submitted)),e.xp6(1),e.Q6J("ngIf",(null==(i=s.passwordForm.get("password"))?null:i.hasError("pattern"))&&((null==(i=s.passwordForm.get("password"))?null:i.touched)||s.submitted)),e.xp6(2),e.Q6J("feedback",!1)("toggleMask",!0),e.xp6(1),e.Q6J("ngIf",(null==s.passwordForm.errors?null:s.passwordForm.errors.misMatch)&&((null==(g=s.passwordForm.get("confirmationPassword"))?null:g.touched)||s.submitted)),e.xp6(2),e.s9C("text",e.lcZ(18,16,"community.submit")),e.Q6J("isLoading",s.loading)}},dependencies:[m.O5,A.ro,o._Y,o.JJ,o.JL,o.sg,o.u,d.r,f.X$]}),t})()}]}];let ne=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[u.Bz.forChild(te),u.Bz]}),t})();var se=l(5598);let oe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[m.ez,ne,se.m,d.r]}),t})()}}]);